#!/usr/bin/env ruby

require 'rubygems'
require 'ppool'

logdir = "./logs"
if ! Dir.exist?(logdir) 
  Dir.mkdir(logdir)
end

size = 2

#controller = TerminalProcessController.new(size, "./bin/test-cmd", logdir)
controller = CursesProcessController.new(size, "./bin/test-cmd", logdir)

process_pool = ProcessPool.new(controller)

process_pool.run

